# 天机AI - 更新日志

## v1.1 — 大重构 (2026-02-23)

全面重构核心算法和界面，从基础八字工具升级为专业命理分析平台。

### 🔧 核心算法升级
- **十神计算** — 完整十神关系表（正官/偏官/正印/偏印/比肩/劫财/食神/伤官/正财/偏财）
- **用神/忌神判断** — 基于日主强弱和五行平衡智能分析
- **纳音五行** — 完整60甲子纳音表
- **大运算法修复** — 根据性别+年干阴阳动态判断顺逆排（不再硬编码8岁）
- **K线图重做** — 去掉 Math.sin 假波动，用五行生克关系表做真实运势计算

### 🐛 Bug 修复
- **五行分布显示全是0** — 后端返回拼音key，前端用中文读取导致映射失败

### 🎨 界面升级
- 赛博扫描线效果 (scan-line animation)
- 打字机动画（结果渐入效果）
- 当前大运自动高亮标记
- K线图 tooltip（鼠标悬停显示详情）
- 移动端完全适配
- SEO 优化（Open Graph / Twitter Card / meta tags）

### 📊 后端优化
- API 响应统一格式 `{success, data}`
- 全局错误处理中间件 (404/500)
- 请求日志记录

---

## v1.0 — 初始发布 (2026-02-22)

天机AI 首次上线，实现基础八字排盘功能，赛博朋克风格界面。

### ✨ 核心功能
- **八字排盘引擎** — 基于 lunar-javascript 实现公历→农历→四柱八字计算
- **五行分布统计** — 八字五行数量和百分比分析
- **大运流年推算** — 10步大运 + 80年流年
- **人生K线图** — 运势可视化（基础版）
- **算法步骤可视化** — 展示计算过程
- **代码导出** — Python / JavaScript 双版本

### 🎨 界面设计
- 赛博朋克 Terminal UI（黑底绿字 + 紫色点缀）
- Glitch 标题动画效果
- 十二时辰选择器
- 性别 + 出生地输入

### 🛠️ 技术栈
- Node.js + Express + EJS
- lunar-javascript 农历计算库
- 原生 CSS3 + JavaScript（零框架依赖）
- Zeabur 部署

### ⚠️ 已知问题（v1.0）
- 五行分布前端映射 bug（显示全0）→ v1.1 已修复
- 大运起始年龄硬编码 8岁 → v1.1 已修复
- K线图用 Math.sin 假波动 → v1.1 已修复
